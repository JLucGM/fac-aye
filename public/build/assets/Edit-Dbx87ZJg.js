import{m as h,j as i,L as j}from"./app-di4HGsVy.js";import{C as P}from"./content-layout-C3CYAwn2.js";import{B as _}from"./button-BKWm062e.js";import E from"./PaymentsForm-CuWn-bU0.js";import{H as b}from"./heading-BpiNvvEv.js";import{P as I}from"./patients-info-BksYrUTe.js";import"./app-logo-icon-C86Y8rhK.js";import"./index-B-6fr0km.js";import"./utils-bRKmu4jq.js";import"./createLucideIcon-A7ifefz_.js";import"./index-BxERTrI_.js";import"./Combination-DAsFGUvm.js";import"./floating-ui.dom-C5vApqfE.js";import"./chevron-down-CnI6N8p-.js";import"./index-dkW4UkYo.js";import"./input-error-C6xzK_aY.js";import"./input-Cqj0PGFN.js";import"./label-B8uNT_za.js";import"./react-select.esm-Cqn5YD-m.js";import"./ConsultationsTable-DtOBm9w3.js";import"./table-B9cakrTP.js";import"./use-sync-refs-BvLRNM2S.js";import"./SubscriptionsTable-C3XVk7Om.js";const v=[{title:"Inicio",href:"/dashboard"},{title:"Lista de Pagos",href:"/payments"},{title:"Editar Pago",href:"#"}];function W({payment:t,paymentMethods:m,patients:r,consultations:d}){var e,n;const s=(t.consultations||[]).map(o=>o.id),l=t.patient_id||((n=(e=t.consultations)==null?void 0:e[0])==null?void 0:n.patient_id)||null,{data:a,setData:p,errors:c,put:u}=h({patient_id:l,consultation_ids:s,payment_method_id:t.payment_method_id,amount:t.amount,status:t.status,reference:t.reference,notes:t.notes}),f=o=>{o.preventDefault(),u(route("payments.update",t.id),{onSuccess:()=>{},onError:x=>{console.error("Error al actualizar el pago:",x)}})},g=r.find(o=>o.id===a.patient_id);return i.jsxs(P,{breadcrumbs:v,children:[i.jsx(j,{title:"Editar Pago"}),i.jsx(b,{title:"Editar Pago",description:"Aqu√≠ puedes editar un pago existente."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("form",{className:"col-span-2 gap-4",onSubmit:f,children:[i.jsx(E,{data:a,patients:r,paymentMethods:m,consultations:d,setData:p,errors:c,initialSelectedConsultationIds:s}),i.jsx(_,{variant:"default",className:"w-full mt-4",children:"Actualizar Pago"})]}),i.jsx("div",{className:"mt-4",children:i.jsx(I,{patient:g})})]})]})}export{W as default};
