import{j as e,r as u,m as p,$ as x}from"./app-xOoa6HPd.js";import{B as r,b as i}from"./button-DP5s21Aj.js";import{D as h,a as g,E as f,b as j,c as l}from"./dropdown-menu-D6NO5-er.js";import{B as y}from"./badge-BvQetAav.js";import{D,b as N,c as v,d as b,e as C,f as E}from"./dialog-BV_kTYFQ.js";import{f as w}from"./format-DE3CduTx.js";import"./index-DuDXMw8I.js";import"./index-dkW4UkYo.js";import"./utils-bRKmu4jq.js";import"./createLucideIcon-B07QP_jw.js";import"./index-BralajqP.js";import"./index-B4xTdsyO.js";import"./index-DzIYgzR8.js";import"./Combination-CX8qYfzW.js";import"./floating-ui.dom-C5vApqfE.js";const I=[{accessorKey:"identification",header:"Cédula de identidad",cell:({row:t})=>{var a;return e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-50",children:(a=t.original.patient)==null?void 0:a.identification})}},{accessorKey:"patient_id",header:"Paciente",cell:({row:t})=>{const a=t.original.patient;return e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-50",children:a?`${a.name} ${a.lastname}`:"No disponible"})}},{accessorKey:"user_id",header:"Tratante",cell:({row:t})=>{var a,s;return e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-50",children:[(a=t.original.user)==null?void 0:a.name," ",(s=t.original.user)==null?void 0:s.lastname]})}},{accessorKey:"payment_status",header:"Estado de pago",cell:({row:t})=>{const a=t.original.payment_status;let s="default";return a==="pagado"?s="default":a==="pendiente"?s="outline":(a==="reembolsado"||a==="incobrable")&&(s="destructive"),e.jsx(y,{variant:s,className:"capitalize",children:a})}},{accessorKey:"created_at",header:"Realizado",cell:({row:t})=>{const a=new Date(t.original.created_at);return e.jsxs("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-50",children:[w(a,"dd/MM/yyyy HH:mm")," "]})}},{id:"actions",cell:({row:t})=>{const[a,s]=u.useState(!1),{delete:o,processing:n}=p(),c=t.original.payment_status==="pendiente",d=()=>{o(route("consultations.destroy",[t.original.id]),{onSuccess:()=>s(!1)})};return e.jsxs(e.Fragment,{children:[e.jsxs(h,{children:[e.jsx(g,{asChild:!0,children:e.jsxs(r,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(f,{className:"h-4 w-4"})]})}),e.jsxs(j,{align:"end",children:[e.jsx(l,{asChild:!0,children:e.jsx(x,{className:i({variant:"ghost"})+" w-full",href:route("consultations.edit",[t.original.id]),children:"Editar"})}),c&&e.jsx(l,{onSelect:m=>{m.preventDefault(),s(!0)},className:"text-red-600 focus:text-red-600 cursor-pointer",children:e.jsx("div",{className:i({variant:"ghost"})+" w-full text-red-600 hover:text-red-600",children:"Eliminar"})})]})]}),e.jsx(D,{open:a,onOpenChange:s,children:e.jsxs(N,{children:[e.jsxs(v,{children:[e.jsx(b,{children:"¿Confirmar eliminación?"}),e.jsxs(C,{children:["Esta acción eliminará la consulta y descontara **$",t.original.amount,"** al balance del paciente."]})]}),e.jsxs(E,{className:"gap-2",children:[e.jsx(r,{variant:"outline",onClick:()=>s(!1),disabled:n,className:i({variant:"outline"}),children:"Cancelar"}),e.jsx(r,{variant:"destructive",onClick:d,disabled:n,className:i({variant:"destructive"}),children:n?"Eliminando...":"Eliminar Consulta"})]})]})})]})}}];export{I as columns};
