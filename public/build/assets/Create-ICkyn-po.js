import{m as l,j as r,L as d}from"./app-DIBeQtRO.js";import{B as f}from"./button-BxnpJVTr.js";import{C as x}from"./content-layout-BoNKGOrg.js";import{H as b}from"./heading-BfsDQ09q.js";import v from"./InvoicesForm-C9kF88lu.js";import{t as o}from"./index-C2ahIvdf.js";import"./index-BpaSFSID.js";import"./utils-bRKmu4jq.js";import"./app-logo-icon-Dgo6D4RN.js";import"./chevron-right-5fXYvw6o.js";import"./createLucideIcon-D7IjAhaZ.js";import"./index-D78Sqp67.js";import"./Combination-CF3lsYoh.js";import"./floating-ui.dom-C5vApqfE.js";import"./chevron-down-Bga1WMLE.js";import"./input-error-D1soUCoF.js";import"./input-B8k_E8_m.js";import"./label-PGtVr5Iv.js";import"./select-ej-R4Kiv.js";import"./index-BSPMZ3Oo.js";import"./index-as5ix8vS.js";import"./check-DCUjj0Et.js";import"./react-select.esm-D3mKCo52.js";const C=[{title:"Inicio",href:"/dashboard"},{title:"Listado de Facturas",href:"/invoices"},{title:"Crear Factura",href:"#"}];function V({patients:a,consultations:e}){const{data:i,setData:s,errors:n,post:m,processing:t}=l({invoice_number:`INV-${new Date().toISOString().split("T")[0]}-${Math.random().toString(36).substring(2,5).toUpperCase()}`,patient_id:null,invoice_date:new Date().toISOString().split("T")[0],notes:"",items:[{id:null,consultation_id:null,quantity:1,unit_price:0,line_total:0}]}),c=p=>{p.preventDefault(),m(route("invoices.store"),{onSuccess:()=>{o.success("Factura creada con éxito.")},onError:u=>{console.error("Error al crear la factura:",u),o.error("Error al crear la factura. Revisa los campos.")}})};return r.jsxs(x,{breadcrumbs:C,children:[r.jsx(d,{title:"Crear Factura"}),r.jsx(b,{title:"Crear Factura",description:"Aquí puedes crear una nueva factura para un paciente."}),r.jsxs("form",{className:"flex flex-col gap-4",onSubmit:c,children:[r.jsx(v,{data:i,patients:a,consultations:e,setData:s,errors:n}),r.jsx(f,{variant:"default",type:"submit",disabled:t,children:t?"Creando...":"Crear Factura"})]})]})}export{V as default};
