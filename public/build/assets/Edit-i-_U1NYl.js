import{m as h,j as i,L as j}from"./app-CgDg5x-4.js";import{C as P}from"./content-layout-BTqK6J1P.js";import{B as _}from"./button-BRZOLgw_.js";import E from"./PaymentsForm-BbsdbPMN.js";import{H as b}from"./heading-BCF9D3dN.js";import{P as I}from"./patients-info-B4xo8iDz.js";import"./app-logo-icon-CwfnSbGz.js";import"./index-ISIdJw_y.js";import"./utils-bRKmu4jq.js";import"./createLucideIcon-D1MLuHjt.js";import"./index-BCutPUNb.js";import"./Combination-BfDKt8Ib.js";import"./floating-ui.dom-C5vApqfE.js";import"./chevron-down-DsT_CEIb.js";import"./index-dkW4UkYo.js";import"./input-error-IEjjWt5P.js";import"./input-CgrGdKxE.js";import"./label-B68SD4c1.js";import"./react-select.esm-SUIA-BqM.js";import"./ConsultationsTable-WeyFDuUk.js";import"./table-DaMBae8m.js";import"./use-sync-refs-CA_G134k.js";import"./SubscriptionsTable-DrfNS4Eg.js";const v=[{title:"Inicio",href:"/dashboard"},{title:"Lista de Pagos",href:"/payments"},{title:"Editar Pago",href:"#"}];function W({payment:t,paymentMethods:m,patients:r,consultations:d}){var e,n;const s=(t.consultations||[]).map(o=>o.id),l=t.patient_id||((n=(e=t.consultations)==null?void 0:e[0])==null?void 0:n.patient_id)||null,{data:a,setData:p,errors:c,put:u}=h({patient_id:l,consultation_ids:s,payment_method_id:t.payment_method_id,amount:t.amount,status:t.status,reference:t.reference,notes:t.notes}),f=o=>{o.preventDefault(),u(route("payments.update",t.id),{onSuccess:()=>{},onError:x=>{console.error("Error al actualizar el pago:",x)}})},g=r.find(o=>o.id===a.patient_id);return i.jsxs(P,{breadcrumbs:v,children:[i.jsx(j,{title:"Editar Pago"}),i.jsx(b,{title:"Editar Pago",description:"Aqu√≠ puedes editar un pago existente."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("form",{className:"col-span-2 gap-4",onSubmit:f,children:[i.jsx(E,{data:a,patients:r,paymentMethods:m,consultations:d,setData:p,errors:c,initialSelectedConsultationIds:s}),i.jsx(_,{variant:"default",className:"w-full mt-4",children:"Actualizar Pago"})]}),i.jsx("div",{className:"mt-4",children:i.jsx(I,{patient:g})})]})]})}export{W as default};
