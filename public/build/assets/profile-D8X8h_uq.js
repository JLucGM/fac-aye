import{r as v,m as j,j as e,K as N,L as b,$ as y}from"./app-BkggyFca.js";import{I as p}from"./input-error-BILin8mf.js";import{B as c}from"./button-COlYU0Oc.js";import{I as x}from"./input-BmvMQ_Nn.js";import{L as h}from"./label-BZXRDps0.js";import{H as g,S as C}from"./heading-small-CNnR1xZG.js";import{D as w,f as D,a as E,c as S,d as k,e as F,g as I}from"./dialog-_CbN_fCD.js";import{C as q}from"./content-layout-BceNpfeC.js";import{z as L}from"./transition-D1MP5lTL.js";import"./utils-bRKmu4jq.js";import"./index-BE4-eoKf.js";import"./index-BNEdfBeD.js";import"./heading-ysB86RhI.js";import"./index-CNBs9QqH.js";import"./Combination-D5ZbfFU7.js";import"./floating-ui.dom-C5vApqfE.js";import"./createLucideIcon-DCOv_xXL.js";import"./app-logo-icon-CVod7Zp8.js";import"./chevron-right-BqDD2j8Q.js";import"./chevron-down-DTy-Ez4_.js";function z(){const a=v.useRef(null),{data:d,setData:s,delete:t,processing:i,reset:o,errors:n,clearErrors:m}=j({password:""}),u=r=>{r.preventDefault(),t(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>l(),onError:()=>{var f;return(f=a.current)==null?void 0:f.focus()},onFinish:()=>o()})},l=()=>{m(),o()};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{title:"Eliminar cuenta",description:"Eliminar tu cuenta y todos sus recursos"}),e.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[e.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[e.jsx("p",{className:"font-medium",children:"Advertencia"}),e.jsx("p",{className:"text-sm",children:"Por favor, procede con precaución, esto no se puede deshacer."})]}),e.jsxs(w,{children:[e.jsx(D,{asChild:!0,children:e.jsx(c,{variant:"destructive",children:"Eliminar cuenta"})}),e.jsxs(E,{children:[e.jsx(S,{children:"¿Estás seguro de que deseas eliminar tu cuenta?"}),e.jsx(k,{children:"Una vez que se elimine tu cuenta, todos sus recursos y datos también se eliminarán permanentemente. Por favor, ingresa tu contraseña para confirmar que deseas eliminar tu cuenta de forma permanente."}),e.jsxs("form",{className:"space-y-6",onSubmit:u,children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(h,{htmlFor:"password",className:"sr-only",children:"Contraseña"}),e.jsx(x,{id:"password",type:"password",name:"password",ref:a,value:d.password,onChange:r=>s("password",r.target.value),placeholder:"Password",autoComplete:"current-password"}),e.jsx(p,{message:n.password})]}),e.jsxs(F,{className:"gap-2",children:[e.jsx(I,{asChild:!0,children:e.jsx(c,{variant:"secondary",onClick:l,children:"Cancelar"})}),e.jsx(c,{variant:"destructive",disabled:i,asChild:!0,children:e.jsx("button",{type:"submit",children:"Eliminar cuenta"})})]})]})]})]})]})]})}const P=[{title:"Inicio",href:"/dashboard"},{title:"Configuración del perfil",href:"/settings/profile"}];function re({mustVerifyEmail:a,status:d}){const{auth:s}=N().props,{data:t,setData:i,patch:o,errors:n,processing:m,recentlySuccessful:u}=j({name:s.user.name,email:s.user.email}),l=r=>{r.preventDefault(),o(route("profile.update"),{preserveScroll:!0})};return e.jsxs(q,{breadcrumbs:P,children:[e.jsx(b,{title:"Configuración del perfil"}),e.jsxs(C,{children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(g,{title:"Información del perfil",description:"Actualiza tu nombre y dirección de correo electrónico"}),e.jsxs("form",{onSubmit:l,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(h,{htmlFor:"name",children:"Nombre"}),e.jsx(x,{id:"name",className:"mt-1 block w-full",value:t.name,onChange:r=>i("name",r.target.value),required:!0,autoComplete:"name",placeholder:"Full name"}),e.jsx(p,{className:"mt-2",message:n.name})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(h,{htmlFor:"email",children:"Correo electrónico"}),e.jsx(x,{id:"email",type:"email",className:"mt-1 block w-full",value:t.email,onChange:r=>i("email",r.target.value),required:!0,autoComplete:"username",placeholder:"Email address"}),e.jsx(p,{className:"mt-2",message:n.email})]}),a&&s.user.email_verified_at===null&&e.jsxs("div",{children:[e.jsxs("p",{className:"text-muted-foreground -mt-4 text-sm",children:["Tu dirección de correo electrónico no está verificada."," ",e.jsx(y,{href:route("verification.send"),method:"post",as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click aquí para reenviar el enlace de verificación."})]}),d==="verification-link-sent"&&e.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Se ha enviado un nuevo enlace de verificación a tu dirección de correo electrónico."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{disabled:m,children:"Guardar"}),e.jsx(L,{show:u,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-neutral-600",children:"Guardado"})})]})]})]}),e.jsx(z,{})]})]})}export{re as default};
