import{r as i,j as e,L as N,$ as D}from"./app-BI19IgvB.js";import{H as w}from"./heading-DZ-6VKkE.js";import{B as c}from"./button-N-vKsxDA.js";import{C as S}from"./content-layout-kI2v6P1d.js";import{D as L}from"./data-table-lcQp77QG.js";import{columns as T}from"./columns-BLcYA37P.js";import{p as I,C as M,a as O,b as k,c as F,d as E}from"./collapsible-BLXKOXdd.js";import{I as f}from"./input-ps7vEDE0.js";import{L as o}from"./label-Bn6LoY71.js";import{f as H}from"./format-CNjBDjOL.js";import"./index-Cnh9NrWZ.js";import"./utils-bRKmu4jq.js";import"./app-logo-icon-Apax-qIO.js";import"./chevron-right-B9vH4GyZ.js";import"./createLucideIcon-iUzpHHvJ.js";import"./index-Dz4tCuRZ.js";import"./Combination-Bw_21JTV.js";import"./floating-ui.dom-C5vApqfE.js";import"./chevron-down-CYfFHtHz.js";import"./table-DtaGsNSM.js";import"./dropdown-menu-BCrDNicf.js";import"./index-NOfg-_uz.js";import"./index-Bye_Dgf8.js";const P=[{title:"Inicio",href:"/dashboard"},{title:"Listado de asistencias",href:"/consultations"}];function re({consultations:j}){const[n,m]=i.useState("all"),[d,p]=i.useState("all"),[t,u]=i.useState(""),[a,x]=i.useState(""),[h,v]=i.useState(!1),g=j.filter(s=>{const b=n==="all"||s.payment_status===n,y=d==="all"||s.consultation_type===d;let l=!0;if(t||a){const C=I(s.scheduled_at),r=H(C,"yyyy-MM-dd");t&&a?l=r>=t&&r<=a:t?l=r>=t:a&&(l=r<=a)}return b&&y&&l});return e.jsxs(S,{breadcrumbs:P,children:[e.jsx(N,{title:"Listado de Asistencias"}),e.jsx(w,{title:"Asistencias",description:"Gestión de asistencias médicas",children:e.jsx(c,{asChild:!0,children:e.jsx(D,{href:route("consultations.create"),children:"Crear asistencia"})})}),e.jsxs(M,{open:h,onOpenChange:v,className:"w-full space-y-2 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-4 px-4 bg-gray-100 p-3 rounded-md",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Filtros de asistencias"}),e.jsx(O,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",children:h?e.jsxs(e.Fragment,{children:["Ocultar filtros",e.jsx(k,{className:"h-4 w-4 mr-2"})]}):e.jsxs(e.Fragment,{children:["Mostrar filtros",e.jsx(F,{className:"h-4 w-4 mr-2"})]})})})]}),e.jsx(E,{className:"space-y-2",children:e.jsxs("div",{className:"rounded-md border px-4 py-3 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Estado de pago"}),e.jsxs("select",{value:n,onChange:s=>m(s.target.value),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"paid",children:"Pagadas"}),e.jsx("option",{value:"pending",children:"Pendientes"})]})]}),e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Tipo de consulta"}),e.jsxs("select",{value:d,onChange:s=>p(s.target.value),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"domiciliary",children:"Domicilio"}),e.jsx("option",{value:"office",children:"Oficina"})]})]}),e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Desde"}),e.jsx(f,{type:"date",value:t,onChange:s=>u(s.target.value),className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Hasta"}),e.jsx(f,{type:"date",value:a,onChange:s=>x(s.target.value),min:t,className:"w-full border rounded p-2"})]})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{m("all"),p("all"),u(""),x("")},children:"Limpiar filtros"})})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(L,{columns:T,data:g})})]})}export{re as default};
