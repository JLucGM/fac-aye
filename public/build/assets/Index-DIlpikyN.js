import{r as i,j as e,L as N,$ as D}from"./app-DeSi3B8X.js";import{H as w}from"./heading-BfAZevr9.js";import{B as c}from"./button-BCqh8rSk.js";import{C as S}from"./content-layout-COrTniHz.js";import{D as L}from"./data-table-CAP-3kvP.js";import{columns as T}from"./columns-CipWJPTk.js";import{p as I,C as M,a as k,b as F,c as O,d as E}from"./collapsible-C5Decv07.js";import{I as j}from"./input-ylDvSYfe.js";import{L as o}from"./label-CoSwX2YG.js";import{f as H}from"./format-DE3CduTx.js";import"./createLucideIcon-C1XQfYwF.js";import"./index-BUm72mbL.js";import"./utils-bRKmu4jq.js";import"./app-logo-icon-DHZsRJc9.js";import"./index-IaZtNpIk.js";import"./Combination-BzU1HETp.js";import"./floating-ui.dom-C5vApqfE.js";import"./chevron-down-BRDH0ZmT.js";import"./table-CtnHfwGj.js";import"./dropdown-menu-UlHhpYxB.js";import"./index-6jhMN7t-.js";import"./index-CqWoZq1z.js";import"./badge-BfFmi1Yl.js";const P=[{title:"Inicio",href:"/dashboard"},{title:"Listado de asistencias",href:"/consultations"}];function re({consultations:f}){const[n,m]=i.useState("all"),[d,p]=i.useState("all"),[t,u]=i.useState(""),[a,x]=i.useState(""),[h,v]=i.useState(!1),g=f.filter(s=>{const b=n==="all"||s.payment_status===n,C=d==="all"||s.consultation_type===d;let l=!0;if(t||a){const y=I(s.scheduled_at),r=H(y,"yyyy-MM-dd");t&&a?l=r>=t&&r<=a:t?l=r>=t:a&&(l=r<=a)}return b&&C&&l});return e.jsxs(S,{breadcrumbs:P,children:[e.jsx(N,{title:"Listado de Asistencias"}),e.jsx(w,{title:"Asistencias",description:"Gestión de asistencias médicas",children:e.jsx(c,{asChild:!0,children:e.jsx(D,{href:route("consultations.create"),children:"Crear asistencia"})})}),e.jsxs(M,{open:h,onOpenChange:v,className:"w-full space-y-2 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-4 px-4 bg-gray-100 p-3 rounded-md",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Filtros de asistencias"}),e.jsx(k,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",children:h?e.jsxs(e.Fragment,{children:["Ocultar filtros",e.jsx(F,{className:"h-4 w-4 mr-2"})]}):e.jsxs(e.Fragment,{children:["Mostrar filtros",e.jsx(O,{className:"h-4 w-4 mr-2"})]})})})]}),e.jsx(E,{className:"space-y-2",children:e.jsxs("div",{className:"rounded-md border px-4 py-3 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Estado de pago"}),e.jsxs("select",{value:n,onChange:s=>m(s.target.value),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"pagado",children:"Pagadas"}),e.jsx("option",{value:"pendiente",children:"Pendientes"})]})]}),e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Tipo de asistencia"}),e.jsxs("select",{value:d,onChange:s=>p(s.target.value),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"domiciliaria",children:"Domiciliaria"}),e.jsx("option",{value:"consultorio",children:"Consultorio"})]})]}),e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Desde"}),e.jsx(j,{type:"date",value:t,onChange:s=>u(s.target.value),className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx(o,{className:"block text-sm font-medium mb-1",children:"Hasta"}),e.jsx(j,{type:"date",value:a,onChange:s=>x(s.target.value),min:t,className:"w-full border rounded p-2"})]})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{m("all"),p("all"),u(""),x("")},children:"Limpiar filtros"})})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(L,{columns:T,data:g})})]})}export{re as default};
