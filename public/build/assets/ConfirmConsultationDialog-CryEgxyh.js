import{j as e}from"./app-xOoa6HPd.js";import{D as T,b as $,c as S,d as P,e as w,f as k}from"./dialog-BV_kTYFQ.js";import{B as m}from"./button-DP5s21Aj.js";function L({open:x,onOpenChange:c,onConfirm:h,title:u,description:p,confirmButtonText:j,cancelButtonText:b="Cancelar",processing:a=!1,type:g,data:s,patients:N,users:f,services:o}){const y=()=>{const t=N.find(i=>i.id===s.patient_id);return t?`${t.name} ${t.lastname}`:"Paciente no encontrado"},v=()=>{const t=f.find(i=>i.id===s.user_id);return t?`${t.name} ${t.lastname}`:"Fisioterapeuta no encontrado"},_=()=>s.subscription_use==="yes"?[{name:"Funcional",price:0}]:s.service_id.length===0?[]:s.service_id.map(t=>{const i=o.find(r=>r.id===t);return{name:i?i.name:"Servicio no encontrado",price:i?i.price:0}}),d=()=>s.subscription_use==="yes"?"0.00":s.service_id.reduce((i,r)=>{const l=o.find(F=>F.id===r);return i+parseFloat(String((l==null?void 0:l.price)??"0"))},0).toFixed(2),D=()=>s.consultation_type==="consultorio"?"Consultorio":"Domiciliaria",C=()=>s.subscription_use==="yes"?"SÃ­":"No",n=_();return e.jsx(T,{open:x,onOpenChange:c,children:e.jsxs($,{className:"sm:max-w-2xl",children:[e.jsxs(S,{children:[e.jsx(P,{children:u}),e.jsx(w,{children:p})]}),e.jsx("div",{className:"space-y-4 py-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500",children:"Fisioterapeuta"}),e.jsx("p",{className:"text-base",children:v()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500",children:"Paciente"}),e.jsx("p",{className:"text-base",children:y()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500",children:"Tipo de Asistencia"}),e.jsx("p",{className:"text-base",children:D()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500",children:"Estado de Pago"}),e.jsx("p",{className:"text-base capitalize",children:s.payment_status})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500",children:"Uso de Funcional"}),e.jsx("p",{className:"text-base",children:C()})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500 mb-2",children:"Servicios"}),n.length>0?e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[e.jsx("ul",{className:"space-y-2",children:n.map((t,i)=>e.jsxs("li",{className:"flex justify-between items-center py-1",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),e.jsx("span",{className:"text-base",children:t.name})]}),s.subscription_use!=="yes"&&t.price>0&&e.jsxs("span",{className:"font-medium text-gray-700",children:["$",t.price]})]},i))}),s.subscription_use!=="yes"&&n.length>1&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200 flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:"Total:"}),e.jsxs("span",{className:"font-bold text-lg",children:["$",d()]})]})]}):e.jsx("p",{className:"text-base text-gray-500 italic",children:"No hay servicios seleccionados"})]}),(s.subscription_use==="yes"||n.length<=1)&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500",children:"Monto Total"}),e.jsxs("p",{className:"text-base font-bold",children:["$",g==="create"?d():s.amount]})]}),s.notes&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("h3",{className:"font-semibold text-sm text-gray-500",children:"Notas"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:e.jsx("p",{className:"text-base",children:s.notes})})]})]})}),e.jsxs(k,{children:[e.jsx(m,{variant:"outline",onClick:()=>c(!1),type:"button",disabled:a,children:b}),e.jsx(m,{variant:"default",onClick:h,type:"button",disabled:a,children:a?"Procesando...":j})]})]})})}export{L as C};
