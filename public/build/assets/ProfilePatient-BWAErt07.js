import{r as l,j as e,L as f,$ as c}from"./app-BaNFacks.js";import{A as g}from"./app-layout-B6y8PlCE.js";import{H as C}from"./heading-Dryr75PN.js";import{C as b}from"./content-layout-ewJt28BJ.js";import{I as v}from"./input-B6oBgo6B.js";import{b as d}from"./button-C2utgpyk.js";import{D as y}from"./data-table-zPIOsuu9.js";import{E as N}from"./eye-DOI8lsOP.js";/* empty css            */import"./index-xlHgpnQO.js";import"./utils-bRKmu4jq.js";import"./index-j81X5Fg9.js";import"./Combination-DUZVKsHe.js";import"./floating-ui.dom-C5vApqfE.js";import"./createLucideIcon-C5RX-QSg.js";import"./dropdown-menu-MpDP4PIp.js";import"./app-logo-icon-IWmtcpMF.js";import"./chevron-right-BYqJl8-_.js";import"./table-DuQyU_oQ.js";const P=[{title:"Dashboard",href:"/dashboard"},{title:"Búsqueda rápida paciente",href:"/module-operation.profile_patient_index"}];function z({patients:u}){const[i,h]=l.useState(""),[s,m]=l.useState(null),p=t=>{const a=t.target.value;h(a);const o=u.find(n=>n.name.toLowerCase().includes(a.toLowerCase())||n.email.toLowerCase().includes(a.toLowerCase())||n.identification.includes(a));m(o||null)},r=t=>{const a=t.length,o=t.filter(j=>j.payment_status==="paid").length,n=a-o;return{totalConsultations:a,paidConsultations:o,pendingConsultations:n}},x=[{accessorKey:"scheduled_at",header:"Fecha Programada",cell:({row:t})=>new Date(t.original.scheduled_at).toLocaleString()},{accessorKey:"status",header:"Estado"},{accessorKey:"payment_status",header:"Estado de Pago"},{accessorKey:"amount",header:"Monto"},{id:"actions",cell:({row:t})=>e.jsx(c,{className:d({variant:"ghost"})+" w-full",href:route("consultations.edit",[t.original.id]),children:"Editar"})}];return e.jsxs(g,{breadcrumbs:P,children:[e.jsx(f,{title:"Perfil del Paciente"}),e.jsxs(b,{children:[e.jsx(C,{title:"Búsqueda rápida paciente",description:"Aquí puedes buscar un paciente por nombre, correo o identificación y ver sus consultas."}),e.jsx(v,{type:"text",placeholder:"Buscar por nombre, correo o identificación...",value:i,onChange:p}),s?e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h2",{children:"Información del Paciente"}),e.jsxs(c,{className:d({variant:"outline"})+" w-auto",href:route("patients.show",[s.slug??s.id]),children:[e.jsx(N,{})," Mostrar"]})]}),e.jsxs("div",{className:"grid grid-cols-2",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Nombre:"})," ",s.name," ",s.lastname]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Identificación:"})," ",s.identification]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Teléfono:"})," ",s.phone]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Fecha de Nacimiento:"})," ",s.birthdate?new Date(s.birthdate).toLocaleDateString():"Fecha no disponible"]})]}),e.jsx("div",{className:"mt-4",children:s.consultations&&s.consultations.length>0&&e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Total de Consultas:"})," ",r(s.consultations).totalConsultations]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Consultas Pagadas:"})," ",r(s.consultations).paidConsultations]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Consultas No Pagadas:"})," ",r(s.consultations).pendingConsultations]})]})})]}),e.jsx("h3",{children:"Consultas"}),e.jsx(y,{columns:x,data:s.consultations||[]})]}):i&&e.jsx("div",{className:"mt-4",children:e.jsxs("p",{children:['No se encontraron resultados para "',i,'".']})})]})]})}export{z as default};
