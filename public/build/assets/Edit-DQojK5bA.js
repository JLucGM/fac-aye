import{m as h,j as i,L as j}from"./app-DLKrPyog.js";import{C as P}from"./content-layout-CyJNcpj0.js";import{B as _}from"./button-BJaQVxI9.js";import E from"./PaymentsForm-B8oq87Vn.js";import{H as b}from"./heading-Dl2IDkKw.js";import{P as I}from"./patients-info-5pz8wAsu.js";import"./app-logo-icon-yp6YxHR0.js";import"./index-Ch47TqRL.js";import"./utils-bRKmu4jq.js";import"./createLucideIcon-CSMuHRtA.js";import"./index-BFvyIEFd.js";import"./Combination-PTGU-tH6.js";import"./floating-ui.dom-C5vApqfE.js";import"./chevron-down-Cs32iRfB.js";import"./index-dkW4UkYo.js";import"./input-error-DOI95bPC.js";import"./input-DpNDHMFM.js";import"./label-KwDOB2uu.js";import"./react-select.esm-CsbFlD6z.js";import"./ConsultationsTable-DOt3_E9_.js";import"./table-C4M1fLX5.js";import"./use-sync-refs-PCMBMbro.js";import"./SubscriptionsTable-J_qH1PFd.js";const v=[{title:"Inicio",href:"/dashboard"},{title:"Lista de Pagos",href:"/payments"},{title:"Editar Pago",href:"#"}];function W({payment:t,paymentMethods:m,patients:r,consultations:d}){var e,n;const s=(t.consultations||[]).map(o=>o.id),l=t.patient_id||((n=(e=t.consultations)==null?void 0:e[0])==null?void 0:n.patient_id)||null,{data:a,setData:p,errors:c,put:u}=h({patient_id:l,consultation_ids:s,payment_method_id:t.payment_method_id,amount:t.amount,status:t.status,reference:t.reference,notes:t.notes}),f=o=>{o.preventDefault(),u(route("payments.update",t.id),{onSuccess:()=>{},onError:x=>{console.error("Error al actualizar el pago:",x)}})},g=r.find(o=>o.id===a.patient_id);return i.jsxs(P,{breadcrumbs:v,children:[i.jsx(j,{title:"Editar Pago"}),i.jsx(b,{title:"Editar Pago",description:"Aqu√≠ puedes editar un pago existente."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("form",{className:"col-span-2 gap-4",onSubmit:f,children:[i.jsx(E,{data:a,patients:r,paymentMethods:m,consultations:d,setData:p,errors:c,initialSelectedConsultationIds:s}),i.jsx(_,{variant:"default",className:"w-full mt-4",children:"Actualizar Pago"})]}),i.jsx("div",{className:"mt-4",children:i.jsx(I,{patient:g})})]})]})}export{W as default};
