import{r as l,j as e,L as N,$ as D}from"./app-BaNFacks.js";import{H as w}from"./heading-Dryr75PN.js";import{B as c}from"./button-C2utgpyk.js";import{A as L}from"./app-layout-B6y8PlCE.js";import{C as S}from"./content-layout-ewJt28BJ.js";import{D as T}from"./data-table-zPIOsuu9.js";import{columns as M}from"./columns-Bls9_sus.js";import{p as O,C as k,a as F,b as I,c as E,d as H}from"./collapsible-BIPvlggC.js";import{I as f}from"./input-B6oBgo6B.js";import{L as i}from"./label-BrcINEJv.js";import{f as P}from"./format-IqVLw5LE.js";/* empty css            */import"./index-xlHgpnQO.js";import"./utils-bRKmu4jq.js";import"./index-j81X5Fg9.js";import"./Combination-DUZVKsHe.js";import"./floating-ui.dom-C5vApqfE.js";import"./createLucideIcon-C5RX-QSg.js";import"./dropdown-menu-MpDP4PIp.js";import"./app-logo-icon-IWmtcpMF.js";import"./chevron-right-BYqJl8-_.js";import"./table-DuQyU_oQ.js";import"./ellipsis-g_FH3dIv.js";const _=[{title:"Dashboard",href:"/dashboard"},{title:"Listado de Consultas",href:"/consultations"}];function ie({consultations:j}){const[n,m]=l.useState("all"),[d,p]=l.useState("all"),[t,u]=l.useState(""),[a,h]=l.useState(""),[x,v]=l.useState(!1),b=j.filter(s=>{const g=n==="all"||s.payment_status===n,C=d==="all"||s.consultation_type===d;let o=!0;if(t||a){const y=O(s.scheduled_at),r=P(y,"yyyy-MM-dd");t&&a?o=r>=t&&r<=a:t?o=r>=t:a&&(o=r<=a)}return g&&C&&o});return e.jsxs(L,{breadcrumbs:_,children:[e.jsx(N,{title:"Listado de Consultas"}),e.jsxs(S,{children:[e.jsx(w,{title:"Consultas",description:"Gestión de consultas médicas",children:e.jsx(c,{asChild:!0,children:e.jsx(D,{href:route("consultations.create"),children:"Crear consulta"})})}),e.jsxs(k,{open:x,onOpenChange:v,className:"w-full space-y-2 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-4 px-4 bg-gray-100 p-3 rounded-md",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Filtros de Consulta"}),e.jsx(F,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",children:x?e.jsxs(e.Fragment,{children:["Ocultar filtros",e.jsx(I,{className:"h-4 w-4 mr-2"})]}):e.jsxs(e.Fragment,{children:["Mostrar filtros",e.jsx(E,{className:"h-4 w-4 mr-2"})]})})})]}),e.jsx(H,{className:"space-y-2",children:e.jsxs("div",{className:"rounded-md border px-4 py-3 text-sm",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{className:"block text-sm font-medium mb-1",children:"Estado de pago"}),e.jsxs("select",{value:n,onChange:s=>m(s.target.value),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"paid",children:"Pagadas"}),e.jsx("option",{value:"pending",children:"Pendientes"})]})]}),e.jsxs("div",{children:[e.jsx(i,{className:"block text-sm font-medium mb-1",children:"Tipo de consulta"}),e.jsxs("select",{value:d,onChange:s=>p(s.target.value),className:"w-full border rounded p-2",children:[e.jsx("option",{value:"all",children:"Todos"}),e.jsx("option",{value:"domiciliary",children:"Domicilio"}),e.jsx("option",{value:"office",children:"Oficina"})]})]}),e.jsxs("div",{children:[e.jsx(i,{className:"block text-sm font-medium mb-1",children:"Desde"}),e.jsx(f,{type:"date",value:t,onChange:s=>u(s.target.value),className:"w-full border rounded p-2"})]}),e.jsxs("div",{children:[e.jsx(i,{className:"block text-sm font-medium mb-1",children:"Hasta"}),e.jsx(f,{type:"date",value:a,onChange:s=>h(s.target.value),min:t,className:"w-full border rounded p-2"})]})]}),e.jsx("div",{className:"mt-3 flex justify-end",children:e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{m("all"),p("all"),u(""),h("")},children:"Limpiar filtros"})})]})})]}),e.jsx("div",{className:"mt-4",children:e.jsx(T,{columns:M,data:b})})]})]})}export{ie as default};
