import{r as n,j as e,L as b,$ as g}from"./app-DG4aA9SL.js";import{D as C}from"./data-table-u2WB_Jbs.js";import{H as D}from"./heading-C1Mxnh0J.js";import{B as o}from"./button-B2ggFSae.js";import{C as v}from"./content-layout-DtgpWVij.js";import{L as p}from"./label-CciWg7BY.js";import{I as h}from"./input-DWCzJmWe.js";import{p as x,C as w,a as F,b as N,c as T,d as S}from"./collapsible-4JtZOw2z.js";import{S as L}from"./square-pen-DbSPRogN.js";import{f as u}from"./format-DE3CduTx.js";import"./table-CeY2YHMD.js";import"./utils-bRKmu4jq.js";import"./createLucideIcon-CnQGTb1c.js";import"./index-B_bdB6qp.js";import"./app-logo-icon-BCvLZHUK.js";import"./index-DbAlyxNN.js";import"./Combination-Bmp08iri.js";import"./floating-ui.dom-C5vApqfE.js";import"./chevron-down-oPqWzEce.js";const M=[{title:"Inicio",href:"/dashboard"},{title:"Listado de Pacientes",href:"/patients"},{title:"Ver",href:"#"}],$=[{header:"Fecha",accessorKey:"created_at",cell:s=>u(x(s.getValue()),"yyyy-MM-dd HH:mm")},{header:"Tipo",accessorKey:"type"},{header:"Monto",accessorKey:"amount",cell:s=>`$${parseFloat(s.getValue()).toFixed(2)}`},{header:"DescripciÃ³n",accessorKey:"description",cell:s=>e.jsx("div",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:s.getValue()})}];function X({patient:s}){const[l,f]=n.useState(!1),[t,c]=n.useState(""),[a,d]=n.useState(""),m=s.patient_balance_transactions||[],j=n.useMemo(()=>m.filter(r=>{if(!t&&!a)return!0;const y=x(r.created_at),i=u(y,"yyyy-MM-dd");return t&&a?i>=t&&i<=a:t?i>=t:a?i<=a:!0}),[m,t,a]);return e.jsxs(v,{breadcrumbs:M,children:[e.jsx(b,{title:"Transacciones de Balance"}),e.jsx(D,{title:`${s.name} ${s.lastname}`,description:"Transacciones de balance del paciente",children:e.jsx(o,{asChild:!0,children:e.jsxs(g,{className:"btn btn-primary",href:route("patients.edit",[s]),children:[e.jsx(L,{}),"Actualizar paciente"]})})}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs(w,{open:l,onOpenChange:f,className:"w-full space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between space-x-4 px-4 bg-gray-100 p-3 rounded-md",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Filtros de Transacciones"}),e.jsx(F,{asChild:!0,children:e.jsx(o,{variant:"ghost",size:"sm",children:l?e.jsxs(e.Fragment,{children:["Ocultar filtros",e.jsx(N,{className:"h-4 w-4 mr-2"})]}):e.jsxs(e.Fragment,{children:["Mostrar filtros",e.jsx(T,{className:"h-4 w-4 mr-2"})]})})})]}),e.jsx(S,{children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center px-4 py-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{htmlFor:"startDate",children:"Desde:"}),e.jsx(h,{id:"startDate",type:"date",value:t,onChange:r=>c(r.target.value)})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{htmlFor:"endDate",children:"Hasta:"}),e.jsx(h,{id:"endDate",type:"date",value:a,onChange:r=>d(r.target.value),min:t})]}),e.jsx(o,{onClick:()=>{c(""),d("")},variant:"outline",children:"Limpiar filtros"})]})})]}),e.jsx(C,{columns:$,data:j})]})]})}export{X as default};
